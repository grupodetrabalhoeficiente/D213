{"changed":false,"filter":false,"title":"example.js","tooltip":"/D213/Backend/webbook/controllers/example.js","value":"/* const data = { \"witness_id\": \"1231236\", \"name\": \"name\", \"email\": \"email2352\", \"place\": \"place\", \"profession\": \"profession\" } */\nconst mysql = require('mysql');\nconst connection = mysql.createConnection({\n    connectionLimit: 100,\n    host: 'remotemysql.com',\n    user: 'SKMj4aTpc9',\n    password: 'djKHE1y1Pg',\n    database: 'SKMj4aTpc9'\n});\n\nconnection.connect((err) => {\n    if (err) throw err;\n    console.log('Connected to MySQL Server!');\n});\n\n// add rows in the table\nfunction addRow(data) {\n    let insertQuery = 'INSERT INTO ?? VALUES (?,?,?,?,?)';\n    let query = mysql.format(insertQuery, [\"witness\", data.witness_id, data.name, data.email, data.place, data.profession]);\n    connection.query(query, (err, response) => {\n        if (err) {\n            console.error(err);\n            return;\n        }\n        // rows added\n        console.log(response.insertId);\n    });\n}\n\nfunction queryRow() {\n    let selectQuery = 'SELECT * FROM ??';\n    let query = mysql.format(selectQuery, ['witness']);\n    // query = SELECT * FROM 'witness'\n    connection.query(query, (err, data) => {\n        if (err) {\n            console.error(err);\n            return;\n        }\n        // rows fetch\n        console.log(query);\n    });\n}\n\n// timeout just to avoid firing query before connection happens\n\nsetTimeout(() => {\n    // call the function\n    queryRow();\n}, 1000);\n\n\n\n/*const server = http.createServer(function(request, response) { // mostrar a tabela - rota se calhar?\n    if (request.url == \"/\") {\n        var obj, dbParam, xmlhttp, myObj, x, txt = \"\";\n        connect.con.query('SELECT * FROM witness', function(err,\n            rows, fields) {\n            if (!err) {\n                console.log('Connected to MySQL Server!');\n                numRows = rows.length;\n                result = rows;\n            }\n            else\n                console.log('Error while performing Query.', err);\n        });\n        txt += \"<table class='table' style='width:50%' border='1'>\";\n        txt += \"<tr><td>id</td><td>nome</td><td>email</td><td>place</td><td>profession</td></tr>\";\n        for (x = 0; x < numRows; x++) {\n            txt += \"<tr><td style='text-align:right'>\" + result[x].witness_id + \"</td><td>\" + result[x].name + \"</td><td>\" + result[x].email + \"</td><td>\" + result[x].place + \"</td><td>\" + result[x].profession +\n                \"</td>\";\n        }\n        response.write(txt);\n        /*response.writeHead(200, { \"Content-Type\": \"text/html\" });\n                response.write(\n                        '<html><title>PROJ - Groups</title> < meta charset = \"utf-8\" > <meta name=\"viewport\"\n                        content = \"width=device-width, initial-scale=1\" > <link rel=\"stylesheet\"\nhref=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"> <script\nsrc=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script><script\nsrc=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script> <body>'\n);\nresponse.write(txt);\nresponse.write(\"</body></html>\");\nresponse.end();*/\n  /*  }\n});","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0.5,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1607443237440}